import random

import requests


def random_pokemon():
    pokemon_number = random.randint(1, 151)
    url = 'https://pokeapi.co/api/v2/pokemon/{}/'.format(pokemon_number)
    response = requests.get(url)
    pokemon = response.json()

    return {
        'name': pokemon['name'],
        'id': pokemon['id'],
        'height': pokemon['height'],
        'weight': pokemon['weight'],
    }

my_pokemon = random_pokemon()

print('You chose {}'.format(my_pokemon['name']))
stat_choice = input('What stat do you want to choose? (height, weight, id) ')
print('Your chosen stats ' + stat_choice + ': {}'.format(my_pokemon[stat_choice]))

opponent_pokemon = random_pokemon()
print('Your opponent chose {}'.format(opponent_pokemon['name']))
print('Opponent pokemon stat: ' + stat_choice + ': {}'.format(opponent_pokemon[stat_choice]))

if my_pokemon[stat_choice] > opponent_pokemon[stat_choice]:
    print('You and {} win!'.format(my_pokemon['name']))

elif my_pokemon[stat_choice] == opponent_pokemon[stat_choice]:
    print("It's a draw!")

else:
    print('You lost to your opponent and {}!'.format(opponent_pokemon['name']))
